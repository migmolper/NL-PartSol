# Makefile for the FEM_Miguel

# Name of the program
myprog = GIMP

# Compiler and preprocesor
CC = gcc

# Source code
csrc = $(wildcard src/Utils.c) \
	$(wilcard src/ShapeFunctions.c) \
	$(wilcard src/Constitutive.c) \
	$(wilcard src/ElementTools.c)
	$(wilcard src/main.c)

# Transforms the contents of the src variable, changing all file suffixes
# from .c to .o, thus constructing the object file list we need.
obj = $(csrc:.c=.o)

# List of libraries required during linking
LDFLAGS = -lm

# 
$(myprog): $(obj)
	$(CC) -o $@  $^ $(LDFLAGS)
	./$(myprog)

# run
run:
	./$(myprog)
# New rule for cleaning up every target, in order to rebuild
# the whole program from scratch
.PHONY: clean
clean:
	rm -f $(obj) $(myprog)

